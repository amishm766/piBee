<form [formGroup]="signUpForm">
  <div class="form-group">
    <h4 class="font-weight-bold">Register</h4>

    <div class="form-group">
      <label class="control-label required">Username</label>
      <div class="row" style="margin: 0px;">
        <input
          type="text"
          class="form-control input-sm"
          formControlName="username"
          [ngClass]="{
            'is-invalid': isInValid(signUpForm, 'username'),
            'is-valid': isValid(signUpForm, 'username')
          }"
        />
        <div
          *ngIf="value('username').dirty || value('username').touched"
          class="alert alert-danger alert-icon"
        >
          <small
            *ngIf="value('username').errors?.alreadyTakenError"
            style="margin-left: 20px;"
            >{{ "Username is already Taken" }}.</small
          >

          <small
            *ngIf="value('username').errors?.minlength"
            style="margin-left: 20px;"
            >Username need
            {{
              value("username").errors?.minlength.requiredLength -
                value("username").errors?.minlength.actualLength
            }}
            more characters.</small
          >

          <small
            *ngIf="value('username').errors?.required"
            style="margin-left: 20px;"
            >{{ "Username is Mandatory" }}.</small
          >
        </div>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label">First Name</label>
      <input type="text" class="form-control" formControlName="first_name" />
    </div>

    <div class="form-group">
      <label class="control-label">Last Name</label>
      <input type="text" class="form-control" formControlName="last_name" />
    </div>

    <div class="form-group">
      <label class="control-label required">Email</label>
      <div class="row" style="margin: 0px;">
        <input
          type="email"
          class="form-control"
          formControlName="email"
          [ngClass]="{
            'is-valid': isValid(signUpForm, 'email'),
            'is-invalid': isInValid(signUpForm, 'email')
          }"
        />

        <div
          *ngIf="value('email').dirty || signUpForm.get('email').touched"
          class="alert alert-danger alert-icon"
        >
          <small
            *ngIf="value('email').errors?.alreadyTakenError"
            style="margin-left: 20px;"
            >{{ "Username is already Taken" }}.</small
          >

          <small
            *ngIf="value('email').errors?.required"
            style="margin-left: 20px;"
            >{{ "Email is Mandatory." }}</small
          >

          <small
            *ngIf="value('email').errors?.pattern"
            style="margin-left: 20px;"
            >{{ "Enter email in valid format." }}</small
          >
        </div>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label required">Password</label>
      <div class="row" style="margin: 0px;">
        <input
          type="password"
          class="form-control"
          formControlName="password"
          [ngClass]="{
            'is-valid': isValid(signUpForm, 'password'),
            'is-invalid': isInValid(signUpForm, 'password')
          }"
        />

        <div
          *ngIf="value('password').dirty || value('password').touched"
          class="alert alert-danger alert-icon"
        >
          <small
            *ngIf="value('password').errors?.required"
            style="margin-left: 20px;"
            >{{ "Password is Mandatory." }}</small
          >

          <small
            *ngIf="value('password').errors?.pattern"
            style="margin-left: 20px;"
            >{{ "Enter password in valid format." }}</small
          >
        </div>
      </div>
      <small
        *ngIf="value('password').errors?.required || value('password').dirty"
        style="color: grey;"
      >
        <div *ngIf="!value('password').dirty">
          {{
            "*Need 8 more characters including a number,an Uppercase letter."
          }}
        </div>
        <div *ngIf="value('password').dirty && value('password').errors">
          *Need
          <span *ngIf="value('password').errors?.minlength">
            {{
              value("password").errors?.minlength.requiredLength -
                value("password").errors?.minlength.actualLength
            }}
          </span>
          {{ "more characters including" }}
          <span *ngIf="value('password').errors?.hasNumber">a number</span>
          <span *ngIf="value('password').errors?.hasCapitalCase"
            >,an Uppercase</span
          >
          <span *ngIf="value('password').errors?.hasSmallCase"
            >{{ "and lowercase" }}
          </span>
          <span
            *ngIf="
              value('password').errors?.hasSmallCase ||
              value('password').errors?.hasCapitalCase
            "
            >{{ " letter." }}</span
          >
        </div>
      </small>
    </div>

    <button
      (click)="signUp()"
      type="submit"
      class="btn"
      [disabled]="signUpForm.invalid"
    >
      Register
    </button>
  </div>
</form>
